<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<link rel="stylesheet" href="/statics/css/style.css" type="text/css" />
<link rel="stylesheet" href="/statics/css/icofont.css" type="text/css">
<link rel="icon" href="/statics/images/icon.jpg" type="image/jpeg" size="32x32" />
<body>
<div id="main">
<div id="header">
<div id="headerLeft">
<div id="name"><a href="/blog.html">an9wer's blog</a></div>
<div id="signature">Just stick to it :)</div>
</div> <!-- headerLeft -->
<div id="headerRight">
<div id="avatar"><img src="/statics/images/avatar.jpg"></div>
</div> <!-- headerRight -->
</div> <!-- header -->
<div id="navbar">
<a id="blog"
href="/blog.html">Blog</a>
<a id="notes"
class="current"
href="/notes.html">Notes</a>
<a id="tweet"
href="/tweet.html">Tweet</a>
<a id="about"
href="/about.html">About</a>
</div> <!-- navbar -->
<div id="post">
<div id="title">git</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>There are three main components of a Git project:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<span class="monospaced">Working tree</span>: or working directory, consists of files that you are
    currently working on. The state of files in working tree is <span class="monospaced">modified</span>.
</p>
</li>
<li>
<p>
<span class="monospaced">Index</span>: or staging area, is where commits are prepared. The state of files
    in index is <span class="monospaced">staged</span> or <span class="monospaced">tracked</span>.
</p>
</li>
<li>
<p>
<span class="monospaced">Repository</span>: or repo, is the container that tracks the changes to your
    project files. It holds all the commits that have been made. The state of
    fils in repository is <span class="monospaced">committed</span>.
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    working tree --(git add)-&gt; index --(git commit)-&gt; repository</pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_git_status">git status</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content monospaced">
<pre>    git status [&lt;options&gt;...] [--] [&lt;pathspec&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Displays paths that have differences between the index file and the current
HEAD commit, paths that have differences between the working tree and the index
file, and paths in the working tree that are not tracked by Git.</p></div>
<div class="sect2">
<h3 id="_options">Options</h3>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">-s</span>: Give the output in the short-format.
</p>
</li>
<li>
<p>
<span class="monospaced">-b</span>: Show the branch and tracking info even in short-format.
</p>
</li>
<li>
<p>
<span class="monospaced">--porcelain[=version]</span>: Given the output in an easy-to-parse-format for
    scripts.The version parameter is used to specify the format version, which
    value is v1 (default) or v2.
</p>
</li>
<li>
<p>
<span class="monospaced">--long</span>: Give the output in the long-format. This is the default.
</p>
</li>
<li>
<p>
<span class="monospaced">-u[&lt;mode&gt;]</span>: Show untracked files. The mode parameter is used to
    specificed the handling of untracked files, if specified, it must be stuck
    to the option(e.g. <span class="monospaced">-uno</span>, but not <span class="monospaced">-u no</span>).
</p>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">no</span>: Show no untracked files.
</p>
</li>
<li>
<p>
<span class="monospaced">normal</span>: Show untracked files and directories.
</p>
</li>
<li>
<p>
<span class="monospaced">all</span>: Also show individual files in untracked directories. (default)
</p>
</li>
</ul></div>
</li>
<li>
<p>
<span class="monospaced">--ignored</span>: Show ignored files as well.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_symbolic_ref">git symbolic-ref</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content monospaced">
<pre>    git symbolic-ref [-q] [--short] &lt;name&gt;
    git symbolic-ref [-m &lt;reason&gt;] &lt;name&gt; &lt;ref&gt;
    git symbolic-ref --delete [-q] &lt;name&gt;</pre>
</div></div>
<div class="paragraph"><p>When given on argument, reads which branch head the given symbolic refers to
and outputs its path, relative to the <span class="monospaced">.git</span> directory.</p></div>
<div class="paragraph"><p>When given two arguments, creates or updates a symbolic ref <span class="monospaced">name</span> to point at
the given branch <span class="monospaced">ref</span>.</p></div>
<div class="paragraph"><p>When given <span class="monospaced">--delete</span> and an additional argument, deletes the given symbolic
ref.</p></div>
<div class="paragraph"><p><strong>Note</strong>: The position of symbolic ref is located in <span class="monospaced">.git</span> directory (e.g.
<span class="monospaced">.git/HEAD</span>).</p></div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="paragraph"><p>Output the path refered by the symbolic ref <span class="monospaced">HEAD</span>.</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git symbolic-ref HEAD</pre>
</div></div>
<div class="paragraph"><p>Create a symbolic ref named with <span class="monospaced">DEV</span>, then refers it to <span class="monospaced">refs/heads/dev</span>, if
the symbolic ref <span class="monospaced">DEV</span> doesn&#8217;t exist.  Otherwise it will just update the
content of symbolic ref <span class="monospaced">DEV</span> to <span class="monospaced">refs/heads/dev</span>.</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git symbolic-ref DEV refs/heads/dev</pre>
</div></div>
<div class="paragraph"><p>Delete symbolic ref <span class="monospaced">DEV</span> created before.</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git symbolic-ref --delete DEV</pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_submodule">git submodule</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_options_2">Options</h3>
<div class="paragraph"><p><span class="monospaced">--cached</span>: This option is only valid for status and summary commands. These
commands typically use the commit found in the submodule HEAD, but with this
option, the commit stored in the index is used instead.</p></div>
<div class="paragraph"><p><span class="monospaced">--files</span>: This option is only valid for the summary command. This command
compares the commit in the index with that in the submodule HEAD when this
option is used.</p></div>
</div>
<div class="sect2">
<h3 id="_git_submodule_add">git submodule add</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule add [-b &lt;branch&gt;] [-f|--force] [--name &lt;name&gt;]
        [--reference &lt;repository&gt;] [--depth &lt;depth&gt; [--] &lt;repository&gt; [&lt;path&gt;]</pre>
</div></div>
<div class="paragraph"><p>Add the given repository as a submodule at the given path to the changeset to
be committed next to the current project: the current project is termed the
"superproject".</p></div>
<div class="paragraph"><p><span class="monospaced">&lt;repository&gt;</span> is the URL of the new submodule&#8217;s orgin repository. This may be
either an absolute URL, or (if it begins with ./ or ../), the locaiton relative
to the superproject&#8217;s default remote repository.</p></div>
<div class="paragraph"><p>The optional argument <span class="monospaced">&lt;path&gt;</span> is the relative location for the cloned
submodule to exist in the superproject. If <span class="monospaced">&lt;path&gt;</span> is not given, the canonical
part of the source repository is used ("repo" for "/path/to/repo.git, "foo" for
"host.xz:foo/.git"). If <span class="monospaced">&lt;path&gt;</span> exists and is already a valid Git repository,
then it is staged for commit without cloning. The <span class="monospaced">&lt;path&gt;</span> is also used as the
submodule&#8217;s logical name in its configuration entries unless <span class="monospaced">--name</span> is used
to specifiy a logical name.</p></div>
<div class="paragraph"><p>The given URL is recorded into <span class="monospaced">.gitmodules</span> for use by subsequent users
cloning the superproject.</p></div>
<div class="sect3">
<h4 id="_examples_2">Examples</h4>
<div class="paragraph"><p>Add a repository as a submodule at the given path, note that it can also be an
existed path.</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule add {repository url} /path/to/submodule</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_status">git submodule status</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule status [--cached] [--recursive] [--] [&lt;path&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Show the status of the submodules. This will print the SHA-1 of the currently
checked out commit for each submodule, along with the submodule path and the
output of <span class="monospaced">git describe</span> for the SHA-1.</p></div>
<div class="paragraph"><p>Each SHA-1 will possibly be prefixed with <em>-</em> if the submodule is not
initialized, <em>+</em> if the currently checked out submodule commit does not match
the SHA-1 found in the index of the containing repository and <em>U</em> if the
submoudle has merge conflicts.</p></div>
<div class="sect3">
<h4 id="_examples_3">Examples</h4>
<div class="paragraph"><p>Show the status of the currently checked out commit for each submodule:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule status</pre>
</div></div>
<div class="paragraph"><p>Show the status of the indexed commit for each submodule:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule status --cached</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_init">git submodule init</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule init [--] [&lt;path&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Initialize the submodules recorded in the index (which were added and committed
elsewhere) by setting <span class="monospaced">submodule.$name.url</span> in <span class="monospaced">.git/config</span>.</p></div>
<div class="paragraph"><p>Optional &lt;path&gt; arguments limit which submodules will be initialized. If no
path is specified and submodule.active has been configured, submodules
configured to be active will be initialized, otherwise all submodules are
initialized.</p></div>
<div class="sect3">
<h4 id="_examples_4">Examples</h4>
<div class="paragraph"><p>Add submodule configuration in <span class="monospaced">.git/config</span>:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule init /path/to/submodule</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_deinit">git submodule deinit</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule deinit [-f|--force] (-all|[--] &lt;path&gt;...}</pre>
</div></div>
<div class="paragraph"><p>Unregister the given submodules, i.e. remove the whole <span class="monospaced">submodule.$name</span>
section from <span class="monospaced">.git/config</span> together with ther work tree. Further calls to
<span class="monospaced">git submodule update</span>, <span class="monospaced">git submodule foreach</span> and <span class="monospaced">git submodule sync</span> will
skip any unregistered submodules until they are initialized again.o</p></div>
<div class="paragraph"><p><strong>Note</strong>: If you really want to remove a submodule from the repository and commit
that use <span class="monospaced">git rm</span> instead.</p></div>
<div class="sect3">
<h4 id="_examples_5">Examples</h4>
<div class="paragraph"><p>Remove submodule configuration in <span class="monospaced">.git/config</span>:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule deinit /path/to/submodule</pre>
</div></div>
<div class="paragraph"><p>Remove submodule in superproject, this will also remove the configuration in
<span class="monospaced">.gitmodule</span> and <span class="monospaced">.git/config</span>:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git rm /path/to/submoudle</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_update">git submodule update</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update [--init] [--remote] [-N|--no-fetch]
        [--[no-]recommend-shallow] [-f|--force] [--checkout|--rebase|--merge]
        [--reference &lt;repository] [--depth &lt;depth&gt;] [--recursive] [--jobs &lt;n&gt;]
        [--] [&lt;path&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Update the registered submodules to match what the superproject expects by
cloning missing submodules and updating the working tree of the submodules.</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">--checkout</span>: The commit recorded in the superproject will be checked out
    in the submodule on a detached HEAD.
</p>
</li>
<li>
<p>
<span class="monospaced">--rebase</span>: The current branch of the submodule will be rebased onto the
    commit recorded in the superproject.
</p>
</li>
<li>
<p>
<span class="monospaced">--merge</span>: The commit recorded in the superproject will be merged into the
    current branch in the submodule.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The following update procedures are only available via the
<span class="monospaced">submodule.&lt;name&gt;.update</span> configuration variable:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">custom command</span>: arbitrary shell command that takes a single argument (the
    sha1 of the commit recorded in the superproject) is executed. When
    <span class="monospaced">submodule.&lt;name&gt;.update</span> is set to <span class="monospaced">!command</span>, the remainder after the
    exclamation mark is the custom command.
</p>
</li>
<li>
<p>
<span class="monospaced">none</span>: the submodule is not updated.
</p>
</li>
</ul></div>
<div class="sect3">
<h4 id="_examples_6">Examples</h4>
<div class="paragraph"><p>Update submodule to match what the superproject expects. By default, it will
create a detached branch for missing commits:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update /path/to/submodule</pre>
</div></div>
<div class="paragraph"><p>or:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update --checkout /path/to/submodule</pre>
</div></div>
<div class="paragraph"><p>Update submodule to match what the superproject expects. It will rebase missing
commits to current branch:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update --rebase /path/to/submodule</pre>
</div></div>
<div class="paragraph"><p>Update submodule to match what the superproject expects. It will merge missing
commits to current branch:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update --merge /path/to/submodule</pre>
</div></div>
<div class="paragraph"><p>Update submodule which hasn&#8217;t been initialized:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule update --init /path/to/submodule</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_summary">git submodule summary</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule summary [--cached|--files] [(-n|--summary-limit) &lt;n&gt;]
        [commit] [--] [&lt;path&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Show commit summary between the given commit (defaults to HEAD) and working
tree/index. For a submodule in question, a series of commits in the submodule
between the given super project commit and the index or working tree (switched
by <span class="monospaced">--cached</span>) are shown. If the option <span class="monospaced">--files</span> is given, show the series of
commits in the submodule between the index of the super project and the working
tree.</p></div>
<div class="sect3">
<h4 id="_examples_7">Examples</h4>
<div class="paragraph"><p>Show the summary of the currently checked out commit for each submodule:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule summary</pre>
</div></div>
<div class="paragraph"><p>Show the summary of the indexed commit for each submodule:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule summary --cached</pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_foreach">git submodule foreach</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule foreach [--recursive] &lt;command&gt;</pre>
</div></div>
<div class="paragraph"><p>Evalutes an arbitrary shell command in each checked out submodule. The command
has access to the variables:</p></div>
<div class="ulist"><ul>
<li>
<p>
<span class="monospaced">$name</span>: The name of the relevant submodule section in <span class="monospaced">.gitmodules</span>.
</p>
</li>
<li>
<p>
<span class="monospaced">$path</span>: The name of the submodule directory relative to the superproject.
</p>
</li>
<li>
<p>
<span class="monospaced">$sha1</span>: The commit as recorded in the superproject.
</p>
</li>
<li>
<p>
<span class="monospaced">$toplevel</span>: The absolute path ot the top-level of the superproject.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Any submodules defined in the superproject but not checked out are ignored by
this command.</p></div>
<div class="paragraph"><p>Unless given <span class="monospaced">--quiet</span>, foreach prints the name of each submodule before
evaluating the command.</p></div>
<div class="paragraph"><p>A non-zero return from the command in any submodule causes the processing to
terminate. This can be overridden by adding <span class="monospaced">||</span> <span class="monospaced">:</span> to the end of the command.</p></div>
<div class="sect3">
<h4 id="_examples_8">Examples</h4>
<div class="paragraph"><p>TODO</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_git_submodule_sync">git submodule sync</h3>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule sync [--recursive] [--] [&lt;path&gt;...]</pre>
</div></div>
<div class="paragraph"><p>Synchronizes submodules' remote URL configuration setting to the value
specified in <span class="monospaced">.gitmodules</span>. It will only affect those submodules which already
have a URL entry in <span class="monospaced">.git/config</span> (that is the case when they are initialized
or freshly added). This is useful when submodule URLs change upstream and you
need to update your local repositories accordingly.</p></div>
<div class="sect3">
<h4 id="_examples_9">Examples</h4>
<div class="paragraph"><p>Copy the URL entry in <span class="monospaced">.gitmodules</span> to <span class="monospaced">.git/config</span>:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>    git submodule sync /path/to/submodule</pre>
</div></div>
</div>
</div>
</div>
</div>
</div> <!-- content -->
</div> <!-- post -->
<div id="footer">
<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" target="_blank">CC BY-NC-SA</a> 2018-2019 an9wer | powered by <a href="https://github.com/asciidoc/asciidoc-py3" target="_blank">asciidoc-py3</a>
</div> <!-- footer -->
</body>
</html>
